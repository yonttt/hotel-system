# Group Market Segments Implementation

## Overview
Successfully implemented 73 group organizer market segments with category-based filtering in the hotel management system.

## Database Implementation

### Group Segments Added (73 total)

#### Discount Distribution

- **65% discount:** 1 segment (Weekend Rate Mariani & Tian 65%)
- **59% discount:** 1 segment (Weekend Rate Mariani & Tian 59%)
- **55% discount:** 1 segment (Weekend Rate Mariani & Tian 55%)
- **40% discount:** 1 segment (Bapak Saprim Bogor)
- **37% discount:** 1 segment (GBKP Klasis Jakarta)
- **25% discount:** 2 segments (Bapak Arie Bandung, Eliters Elektro ITB 1977)
- **23% discount:** 1 segment (Ibu Andin)
- **22% discount:** 1 segment (Ibu Sri Apri)
- **20% discount:** 5 segments (Bapak Ady Putra Benua, Bapak Bima, Mamre GBKP Bogor, Ibu Merry, Ibu Winna, RJ WISATA)
- **17% discount:** 1 segment (Bapak Agus Silahturami Serang)
- **16% discount:** 1 segment (Bapak Andi Bandung)
- **15% discount:** 14 segments (Various organizers including Dishub Kota Cirebon, Universities, Event Organizers)
- **14% discount:** 1 segment (SLB Yayasan Pangkudiluhur)
- **12% discount:** 2 segments (Ibu Ika Jayaperbangsa 12%, Ibu Kiki Bandung)
- **11% discount:** 3 segments (Bapak Darmansyah, Bapak Egi Setiawan, Ibu Yuliana)
- **10% discount:** 19 segments (Most travel agents, tour operators, and individual organizers)
- **7% discount:** 1 segment (Bapak Sarjito Bandung)
- **5% discount:** 6 segments (Various smaller organizers and institutions)
- **0% discount:** 9 segments (Standard group rate and special arrangements)

### Complete Segment List

| ID | Segment Name | Discount | Category |
|----|--------------|----------|----------|
| 99 | Group - PSB Biak (Cirebon) | 5% | Group |
| 100 | Group - Abe Holiday (Bandung) | 10% | Group |
| 101 | Group - Bapak Ady Putra Benua | 20% | Group |
| 102 | Group - Bapak Agus (Silahturami Serang) | 17% | Group |
| 103 | Group - Bapak Ali Imron Bandung | 10% | Group |
| 104 | Group - Bapak Andi (Bandung) | 16% | Group |
| 105 | Group - Bapak Angga (Bandung) | 0% | Group |
| 106 | Group - Bapak Arie (Bandung) | 25% | Group |
| 107 | Group - Bapak Bima (Sponsor Event) | 20% | Group |
| 108 | Group - Bapak Darmansyah (Bandung) | 11% | Group |
| 109 | Group - Bapak Egi Setiawan (Bandung) | 11% | Group |
| 110 | Group - Bapak Endra Taufik (Bandung) | 10% | Group |
| 111 | Group - Bapak Firman (Bandung) | 10% | Group |
| 112 | Group - Bapak Hanif Bandung HG | 15% | Group |
| 113 | Group - Bapak Irfan (Bandung) | 15% | Group |
| 114 | Group - Bapak Latansa (Bandung) | 5% | Group |
| 115 | Group - Bapak Rizki (Bandung) | 15% | Group |
| 116 | Group - Bapak Saprim (Bogor) | 40% | Group |
| 117 | Group - Bapak Sarjito (Bandung) | 7% | Group |
| 118 | Group - Bapak Syamsul Bahri (Bandung) | 10% | Group |
| 119 | Group - Bapak Uyeng (Bandung) | 0% | Group |
| 120 | Group - Basamo Holiday | 10% | Group |
| 121 | Group - Dewa United (Cirebon) | 0% | Group |
| 122 | Group - Dishub Kota Cirebon | 15% | Group |
| 123 | Group - Eliters Elektro ITB 1977 | 25% | Group |
| 124 | Group - GBKP Klasis (Jakarta) | 37% | Group |
| 125 | Group - Group | 0% | Group |
| 126 | Group - Group Barito Putra | 10% | Group |
| 127 | Group - Group Persita | 0% | Group |
| 128 | Group - HIMASOS Cirebon | 10% | Group |
| 129 | Group - Ibu Andin | 23% | Group |
| 130 | Group - Ibu Dewi Agustina (Bandung) | 10% | Group |
| 131 | Group - Ibu Elis (Bandung) | 15% | Group |
| 132 | Group - Ibu Gusni Eliza (Bandung) | 10% | Group |
| 133 | Group - Ibu Gusni (Jakarta) | 10% | Group |
| 134 | Group - Ibu Ika Jayaperbangsa 12% | 12% | Group |
| 135 | Group - Ibu Ika Jayaperbangsa 15% | 15% | Group |
| 136 | Group - Ibu Kiki (Bandung) | 12% | Group |
| 137 | Group - Ibu Kokom (Cirebon) | 0% | Group |
| 138 | Group - Ibu Lani (Bandung) | 15% | Group |
| 139 | Group - Ibu Merry | 20% | Group |
| 140 | Group - Ibu Ranti (Bandung) | 15% | Group |
| 141 | Group - Ibu Ratna Wangsih (Bandung) | 0% | Group |
| 142 | Group - Ibu Sri Apri | 22% | Group |
| 143 | Group - Ibu Susan Yunawati (Bandung) | 10% | Group |
| 144 | Group - Ibu Winna (Bandung) | 20% | Group |
| 145 | Group - Ibu Wulan Group Wedding | 15% | Group |
| 146 | Group - Ibu Yuliana (Bandung) | 11% | Group |
| 147 | Group - Koswara Group | 15% | Group |
| 148 | Group - Madrasah Tsanawiah | 0% | Group |
| 149 | Group - Mamre GBKP (Bogor) | 20% | Group |
| 150 | Group - MD Film Cirebon | 10% | Group |
| 151 | Group - PT Screenplay Sinema Film | 0% | Group |
| 152 | Group - PT Arina Multikarya | 5% | Group |
| 153 | Group - PT BP3TKI | 0% | Group |
| 154 | Group - PT USSI Institute | 5% | Group |
| 155 | Group - Purnawirakawan Marinir Tour | 0% | Group |
| 156 | Group - Rezky Jaya Wisata Bandung | 10% | Group |
| 157 | Group - Rezky Jaya Wisata Jakarta | 10% | Group |
| 158 | Group - RJ WISATA | 20% | Group |
| 159 | Group - SLB Yayasan Pangkudiluhur | 14% | Group |
| 160 | Group - Sri Ayu Bogor | 10% | Group |
| 161 | Group - Surabaya City FC (Cirebon) | 10% | Group |
| 162 | Group - Uji Coba | 15% | Group |
| 163 | Group - Universitas Gorontalo (Jakarta) | 5% | Group |
| 164 | Group - Universitas Padjajaran | 15% | Group |
| 165 | Group - WKRI 15% | 15% | Group |
| 166 | Group - WKRI 5% | 5% | Group |
| 167 | Group - Weekend Rate Mariani & Tian 55% | 55% | Group |
| 168 | Group - Weekend Rate Mariani & Tian 59% | 59% | Group |
| 169 | Group - Weekend Rate Mariani & Tian 65% | 65% | Group |
| 170 | Group - Yayasan Ummatan Wasatho (YUW) | 10% | Group |
| 171 | Group - YONI AQYAS | 5% | Group |

## Frontend Implementation

### Updated Files

1. **registrasi.jsx** - Guest Registration Form
2. **reservasi.jsx** - Hotel Reservation Form

### Filtering Logic

```javascript
useEffect(() => {
    if (formData.category_market === 'Group') {
        const groupSegments = marketSegments.filter(segment => 
            segment.name.toLowerCase().includes('group') || 
            (segment.category && segment.category.toLowerCase() === 'group')
        );
        setFilteredMarketSegments(groupSegments);
    }
    // ... other categories (Walkin, OTA, Corporate, etc.)
}, [formData.category_market, marketSegments]);
```

### How It Works

1. When a user selects "Group" from the Category Market dropdown
2. The market segment dropdown automatically filters to show only group organizer segments
3. Users can then select from the 73 available group organizer segments
4. The selected segment's discount is automatically applied to the booking

## Segment Categories

### Travel Agents & Tour Operators
- Abe Holiday (Bandung) - 10%
- Basamo Holiday - 10%
- Rezky Jaya Wisata (Bandung & Jakarta) - 10%
- RJ WISATA - 20%
- Queen Travelling (in Corporate Rate) - 15%

### Sports Teams & Events
- Dewa United (Cirebon) - 0%
- Group Barito Putra - 10%
- Group Persita - 0%
- Surabaya City FC (Cirebon) - 10%
- Bapak Bima (Sponsor Event) - 20%

### Religious & Community Organizations
- GBKP Klasis (Jakarta) - 37%
- Mamre GBKP (Bogor) - 20%
- Wanita Katholik Republik Indonesia (WKRI) - 5% & 15%
- Yayasan Ummatan Wasatho (YUW) - 10%
- Madrasah Tsanawiah - 0%

### Educational Institutions
- Universitas Gorontalo (Jakarta) - 5%
- Universitas Padjajaran - 15%
- Eliters Elektro ITB 1977 - 25%
- HIMASOS Cirebon - 10%
- SLB Yayasan Pangkudiluhur - 14%

### Corporate & Business
- PT Screenplay Sinema Film - 0%
- PT Arina Multikarya - 5%
- PT BP3TKI - 0%
- PT USSI Institute - 5%
- MD Film Cirebon - 10%

### Government & Military
- Dishub Kota Cirebon - 15%
- Purnawirakawan Marinir Tour - 0%

### Individual Organizers (Bandung Area)
- **High Discount (20-40%):**
  - Bapak Saprim (Bogor) - 40%
  - Bapak Arie - 25%
  - Ibu Andin - 23%
  - Ibu Sri Apri - 22%
  - Bapak Ady Putra Benua - 20%
  - Ibu Merry - 20%
  - Ibu Winna - 20%

- **Medium Discount (10-17%):**
  - Bapak Agus (Silahturami Serang) - 17%
  - Bapak Andi - 16%
  - Multiple Bapak/Ibu organizers - 10-15%

- **Low Discount (0-7%):**
  - Bapak Sarjito - 7%
  - Bapak Latansa - 5%
  - Bapak Angga, Bapak Uyeng - 0%

### Event Organizers
- Pandawa Event Organizer - 15% (Corporate Rate)
- Saluyu EO - 15% (Corporate Rate)
- Ibu Wulan Group Wedding - 15%

### Special VIP Rates
- Weekend Rate Mariani & Tian - 55%, 59%, 65%
  - Highest discount segments in the entire system
  - Three tiers for different accommodation levels

## Backend Scripts

### 1. add_group_segments.py
- Main script to add all 73 group segments to the database
- Includes safety checks for existing segments
- Transaction-based to ensure data integrity
- Displays verification after successful insertion

### Usage
```bash
python add_group_segments.py
```

The script will:
1. Show all 73 segments to be added
2. Ask for confirmation
3. Check for existing Group segments (optional deletion)
4. Insert all segments with "Group - " prefix
5. Display complete list with IDs and discount percentages

## Technical Details

### Database Configuration
- **Table:** market_segments
- **Category Field:** 'Group' (varchar)
- **Name Field:** Max 50 characters (includes "Group - " prefix)
- **Discount Field:** Decimal (percentage, 0.00 to 65.00)
- **All segments are active by default**

### Naming Convention
- Format: "Group - [Organizer Name]"
- Examples:
  - "Group - Abe Holiday (Bandung)"
  - "Group - Bapak Saprim (Bogor)"
  - "Group - GBKP Klasis (Jakarta)"
  - "Group - Weekend Rate Mariani & Tian 65%"

### Duplicate Handling
For organizers with multiple discount rates:
- **Ibu Ika Jayaperbangsa:** 12% and 15% variants
- **WKRI (Wanita Katholik Republik Indonesia):** 5% and 15% variants
- **Weekend Rate Mariani & Tian:** 55%, 59%, and 65% variants

## Category System

The hotel system now supports four main market segment categories with automatic filtering:

1. **Walkin** - 41 segments for walk-in customers (5% to 100% discounts)
2. **Online Travel Agent (OTA)** - 10 segments for online booking platforms (0% discounts)
3. **Corporate Rate** - 20 segments for corporate clients (0% to 24% discounts)
4. **Group** - 73 segments for group organizers (0% to 65% discounts)

Other categories exist but use general filtering (Government Rate, Travel Agent, Social Media, WAWCARD, SMS Blast).

## Git Commit

**Commit:** 9ec6627
**Message:** Add Group market segments with 73 group organizers and frontend filtering

**Changes:**
- Added 73 group segments with varying discounts (0% to 65%)
- Updated frontend filtering in registrasi.jsx and reservasi.jsx
- Added add_group_segments.py script

## Statistics

- **Total Group Segments:** 73
- **Average Discount:** 13.59%
- **Discount Range:** 0% to 65%
- **Location Distribution:**
  - Bandung: ~35 segments
  - Cirebon: ~8 segments
  - Jakarta: ~5 segments
  - Bogor: ~3 segments
  - Other locations: ~22 segments

- **Organizer Type Distribution:**
  - Individual Organizers (Bapak/Ibu): 29 segments
  - Travel Agents/Tour Operators: 8 segments
  - Organizations (Religious/Community): 10 segments
  - Educational Institutions: 5 segments
  - Sports Teams: 4 segments
  - Corporate/Business: 5 segments
  - Government/Military: 2 segments
  - Event Organizers: 3 segments
  - Special VIP Rates: 3 segments
  - Standard Group: 1 segment
  - Other: 3 segments

## Testing Recommendations

1. **Frontend Testing:**
   - Select "Group" category in registration/reservation forms
   - Verify only group segments appear in market segment dropdown
   - Test discount application for different group organizers
   - Verify segment reset when changing categories

2. **Database Testing:**
   - Run verification queries to confirm all 73 segments exist
   - Check discount percentages match requirements
   - Verify category field is correctly set to "Group"

3. **Integration Testing:**
   - Create test reservations for various group organizers
   - Verify discounts are correctly calculated
   - Test high-discount segments (Weekend Rate 65%)
   - Test multi-variant segments (WKRI 5% vs 15%)

## Future Enhancements

Potential improvements for the group rate system:

1. **Dynamic Rate Management:**
   - Admin interface to add/edit/remove group organizers
   - Bulk upload functionality for group rates
   - Contract management with expiration dates

2. **Reporting:**
   - Group organizer booking reports
   - Top group organizers by volume
   - Revenue analysis by group segment
   - Discount utilization tracking

3. **Advanced Features:**
   - Minimum room requirements for group bookings
   - Group booking approval workflow
   - Commission tracking for travel agents
   - Group deposit and payment terms management

## Notes

- All group segments follow the naming convention: "Group - [Organizer Name]"
- Location indicators (Bandung, Cirebon, Jakarta, Bogor) help identify local organizers
- Weekend Rate Mariani & Tian segments offer the highest discounts (55-65%) in the entire system
- The system maintains backward compatibility with existing market segments
- Frontend filtering ensures users only see relevant segments for their selected category
- Multiple discount tiers exist for the same organizer when needed (WKRI, Ibu Ika Jayaperbangsa)

## Regional Distribution

### Bandung Region (Largest)
- 35+ group organizers
- Discount range: 0% to 40%
- Mix of individual organizers, travel agents, and institutions

### Cirebon Region
- 8 group organizers
- Includes sports teams (Dewa United, Surabaya City FC)
- Government agencies (Dishub Kota Cirebon)
- Community organizations (HIMASOS Cirebon)

### Jakarta Region
- 5 group organizers
- Religious organizations (GBKP Klasis)
- Educational institutions (Universitas Gorontalo)
- Travel agents (Rezky Jaya Wisata Jakarta)

### Bogor Region
- 3 group organizers
- Includes highest single discount: Bapak Saprim (40%)
- Religious organization: Mamre GBKP (20%)

---

**Created:** October 9, 2025
**Last Updated:** October 9, 2025
**Status:** âœ… Implemented and Deployed
**Total System Segments:** 164 (Walkin: 41, OTA: 10, Corporate: 20, Group: 73, Other: 20)
